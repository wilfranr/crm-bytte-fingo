<!-- Loading State -->
<div class="flex justify-content-center align-items-center" *ngIf="loading && !error" style="min-height: 400px">
  <p-progressSpinner styleClass="w-2rem h-2rem" strokeWidth="4" animationDuration=".5s"></p-progressSpinner>
</div>

<!-- Error State -->
<p-message *ngIf="error && !loading" severity="error" [text]="error" styleClass="mb-4"></p-message>

<!-- Dashboard Content -->
<div class="dashboard-container" *ngIf="!loading && !error && dashboardData">
  <app-metric-cards-widget [dashboardData]="dashboardData"></app-metric-cards-widget>
</div>

<!-- Layout de dos columnas para gr치fica y tabla -->
<div class="grid grid-cols-1 xl:grid-cols-2 gap-6 mt-6">
  <!-- Columna izquierda: Gr치fica de comportamiento transaccional -->
  <div class="xl:col-span-1">
    <app-comportamiento-transaccional-widget [dashboardData]="dashboardData" />
  </div>
  
  <!-- Columna derecha: Widget de transacciones -->
  <div class="xl:col-span-1">
    <app-transacciones-widget></app-transacciones-widget>
  </div>
</div>

<!-- Bot칩n de actualizaci칩n manual -->
<button pButton pRipple
        icon="pi pi-sync"
        class="p-button-rounded p-button-info refresh-button"
        [disabled]="loading"
        (click)="loadDashboardData(true)"
        pTooltip="Actualizar datos"
        tooltipPosition="left">
</button>
